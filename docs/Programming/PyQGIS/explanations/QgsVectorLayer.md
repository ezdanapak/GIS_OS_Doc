# QgsVectorLayer QGIS-рЃерЃў

**QgsVectorLayer** рЃљрЃарЃўрЃА PyQGIS-рЃўрЃА рЃћрЃарЃЌ-рЃћрЃарЃЌрЃў рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃЎрЃџрЃљрЃАрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЉрЃљ рЃЋрЃћрЃЦрЃбрЃЮрЃарЃБрЃџрЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃЕрЃљрЃАрЃљрЃбрЃЋрЃўрЃарЃЌрЃљрЃЊ рЃЊрЃљ рЃАрЃљрЃЏрЃљрЃарЃЌрЃљрЃЋрЃљрЃЊ (рЃЏрЃљрЃњ. Shapefile, GeoPackage, PostGIS).

---

## ­ЪћЉ рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃўрЃЊрЃћрЃљ
QgsVectorLayer рЃгрЃљрЃарЃЏрЃЮрЃљрЃЊрЃњрЃћрЃюрЃА **рЃЋрЃћрЃЦрЃбрЃЮрЃарЃБрЃџ рЃерЃарЃћрЃА** (рЃгрЃћрЃарЃбрЃўрЃџрЃћрЃЉрЃў, рЃ«рЃљрЃќрЃћрЃЉрЃў, рЃърЃЮрЃџрЃўрЃњрЃЮрЃюрЃћрЃЉрЃў), рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃљрЃЦрЃЋрЃА:
- **рЃњрЃћрЃЮрЃЏрЃћрЃбрЃарЃўрЃљ** (рЃАрЃърЃљрЃбрЃўрЃБрЃарЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў)
- **рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃћрЃЉрЃў** (рЃфрЃ«рЃарЃўрЃџрЃБрЃарЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў)

рЃћрЃА рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў рЃњрЃЋрЃљрЃФрЃџрЃћрЃЋрЃА рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃљрЃА:
- рЃЕрЃљрЃЋрЃбрЃЋрЃўрЃарЃЌрЃЮрЃЌ рЃљрЃарЃАрЃћрЃЉрЃБрЃџрЃў рЃцрЃљрЃўрЃџрЃў
- рЃерЃћрЃЋрЃЦрЃЏрЃюрЃљрЃЌ рЃљрЃ«рЃљрЃџрЃў рЃерЃарЃћ
- рЃгрЃљрЃЋрЃўрЃЎрЃўрЃЌрЃ«рЃЮрЃЌ/рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮрЃЌ/рЃЕрЃљрЃЋрЃгрЃћрЃарЃЮрЃЌ рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃў
- рЃЋрЃЏрЃљрЃарЃЌрЃЮрЃЌ рЃАрЃўрЃЏрЃЉрЃЮрЃџрЃўрЃЎрЃљ рЃЊрЃљ рЃерЃарЃўрЃА рЃАрЃбрЃўрЃџрЃў

---

## РќХ№ИЈ QgsVectorLayer-рЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ

```python
# рЃљрЃарЃАрЃћрЃЉрЃБрЃџ рЃЋрЃћрЃЦрЃбрЃЮрЃарЃБрЃџ рЃцрЃљрЃўрЃџрЃЌрЃљрЃю рЃЊрЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃљ
fn = r"C:/Users/Public/Documents/GIS/shapefile/lake.shp"
layer = QgsVectorLayer(fn, "Lake Layer", "ogr")

if not layer.isValid():
    print("РЮї рЃерЃарЃўрЃА рЃЕрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ рЃЋрЃћрЃа рЃЏрЃЮрЃ«рЃћрЃарЃ«рЃЊрЃљ")
else:
    print("РюЁ рЃерЃарЃћ рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ рЃЕрЃљрЃўрЃбрЃЋрЃўрЃарЃЌрЃљ")
```

­ЪЊї рЃљрЃЦ:
- `fn` = рЃцрЃљрЃўрЃџрЃўрЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃў
- `"Lake Layer"` = рЃАрЃљрЃ«рЃћрЃџрЃў QGIS-рЃерЃў
- `"ogr"` = data provider (Shapefile, GeoJSON, GeoPackage рЃЊрЃљ рЃАрЃ«рЃЋ.)

---

## ­ЪЏа рЃерЃарЃўрЃА рЃбрЃўрЃърЃћрЃЉрЃў

QgsVectorLayer рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃўрЃДрЃЮрЃА:
- **QgsWkbTypes.Point** Рєњ рЃгрЃћрЃарЃбрЃўрЃџрЃћрЃЉрЃў
- **QgsWkbTypes.LineString** Рєњ рЃ«рЃљрЃќрЃћрЃЉрЃў
- **QgsWkbTypes.Polygon** Рєњ рЃърЃЮрЃџрЃўрЃњрЃЮрЃюрЃћрЃЉрЃў

---

## ­ЪЊІ рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃћрЃЉрЃўрЃА рЃгрЃЋрЃЊрЃЮрЃЏрЃљ

```python
for feature in layer.getFeatures():
    geom = feature.geometry()
    attrs = feature.attributes()
    print("Geometry:", geom.asWkt())
    print("Attributes:", attrs)
```

---

## РъЋ рЃљрЃ«рЃљрЃџрЃў рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ

```python
from qgis.PyQt.QtCore import QVariant

pr = layer.dataProvider()

# рЃљрЃ«рЃљрЃџрЃў рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃћрЃЉрЃўрЃА рЃЋрЃћрЃџрЃћрЃЉрЃў
pr.addAttributes([QgsField("Name", QVariant.String),
                  QgsField("Value", QVariant.Double)])
layer.updateFields()

# рЃљрЃ«рЃљрЃџрЃў рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ
feat = QgsFeature(layer.fields())
feat.setGeometry(QgsGeometry.fromPointXY(QgsPointXY(357965.61, 4683353.56)))
feat.setAttributes(["Lake1", 123.45])

pr.addFeature(feat)
layer.updateExtents()
```

---

## ­ЪњЙ рЃљрЃ«рЃљрЃџрЃў рЃЋрЃћрЃЦрЃбрЃЮрЃарЃБрЃџрЃў рЃцрЃљрЃўрЃџрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ

```python
from qgis.core import QgsVectorFileWriter, QgsFields, QgsField, QgsWkbTypes, QgsCoordinateReferenceSystem

fn = r"C:/Users/Public/Documents/GIS/shapefile/new_layer.shp"
fields = QgsFields()
fields.append(QgsField("ID", QVariant.Int))
fields.append(QgsField("Name", QVariant.String))

writer = QgsVectorFileWriter(fn, "UTF-8", fields,
                             QgsWkbTypes.Point,
                             QgsCoordinateReferenceSystem("EPSG:32638"),
                             "ESRI Shapefile")

del writer
```

---

## ­ЪћЇ рЃцрЃўрЃџрЃбрЃарЃљрЃфрЃўрЃљ рЃЊрЃљ Query

```python
expr = QgsExpression("Value > 100")
it = layer.getFeatures(QgsFeatureRequest(expr))

for f in it:
    print(f["Name"], f["Value"])
```

---

## ­Ъје рЃАрЃўрЃЏрЃЉрЃЮрЃџрЃўрЃЎрЃљ рЃЊрЃљ рЃЋрЃўрЃќрЃБрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ

```python
symbol = QgsSymbol.defaultSymbol(layer.geometryType())
symbol.setColor(QColor("blue"))
symbol.setSize(3)

layer.renderer().setSymbol(symbol)
layer.triggerRepaint()
```

---

## ­ЪЊї рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

- **QgsVectorLayer** рЃљрЃарЃўрЃА рЃЋрЃћрЃЦрЃбрЃЮрЃарЃБрЃџрЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў PyQGIS-рЃерЃў.
- рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ:
  - рЃЕрЃљрЃЋрЃбрЃЋрЃўрЃарЃЌрЃЮрЃЌ рЃерЃарЃћ
  - рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮрЃЌ рЃљрЃ«рЃљрЃџрЃў рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃў
  - рЃЋрЃЏрЃљрЃарЃЌрЃЮрЃЌ рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃћрЃЉрЃў
  - рЃЕрЃљрЃЋрЃгрЃћрЃарЃЮрЃЌ рЃцрЃљрЃўрЃџрЃљрЃЊ
  - рЃерЃћрЃЋрЃфрЃЋрЃљрЃџрЃЮрЃЌ рЃАрЃўрЃЏрЃЉрЃЮрЃџрЃўрЃЎрЃљ

­ЪЉЅ рЃћрЃА рЃЎрЃџрЃљрЃАрЃў рЃљрЃарЃўрЃА QGIS API-рЃўрЃА рЃћрЃарЃЌ-рЃћрЃарЃЌрЃў рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљрЃЊрЃў рЃўрЃюрЃАрЃбрЃарЃБрЃЏрЃћрЃюрЃбрЃў GIS рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃўрЃАрЃЌрЃЋрЃўрЃА.
