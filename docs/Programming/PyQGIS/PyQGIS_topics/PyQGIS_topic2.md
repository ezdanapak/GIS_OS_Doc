
# рЃЌрЃћрЃЏрЃљ II РђЊ PyQGIS рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃБрЃџрЃў рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃћрЃЉрЃў

## ­Ъџђ рЃћрЃерЃЋрЃћрЃЉрЃљ QGIS рЃЎрЃЮрЃюрЃАрЃЮрЃџрЃерЃў

---
- рЃќрЃЮрЃњрЃўрЃћрЃарЃЌрЃў рЃњрЃљрЃюрЃЏрЃљрЃарЃбрЃћрЃЉрЃљ

fn рЃюрЃўрЃерЃюрЃљрЃЋрЃА file name - рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃфрЃЋрЃџрЃљрЃЊрЃўрЃљ, рЃЏрЃўрЃАрЃў рЃерЃћрЃфрЃЋрЃџрЃљ рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ.

рЃљрЃбрЃарЃўрЃЉрЃБрЃбрЃБрЃџрЃў рЃфрЃ«рЃарЃўрЃџрЃўрЃА рЃАрЃЋрЃћрЃбрЃћрЃЉрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃА QgsFields()

File Handling - "r" - Read - Default value. Opens a file for reading, error if the file does not exist 

рЃљрЃ«рЃљрЃџрЃў рЃерЃарЃћ рЃерЃћрЃўрЃЦрЃЏрЃюрЃљ рЃЊрЃљ рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ рЃЏрЃЮрЃ«рЃЊрЃљ 'ESRI Shapefile' рЃЊрЃарЃљрЃўрЃЋрЃћрЃарЃўрЃА рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃўрЃЌ.

рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃерЃў рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ рЃњрЃљрЃЊрЃљрЃЋрЃфрЃћрЃЌ рЃБрЃюрЃўрЃЎрЃЮрЃЊрЃўрЃарЃћрЃЉрЃљ, рЃърЃарЃЮрЃћрЃЦрЃфрЃўрЃљ, рЃЊрЃарЃљрЃўрЃЋрЃћрЃарЃў рЃЊрЃљ рЃљ.рЃе

рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃЊрЃљрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃА рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃА рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃБрЃџрЃўрЃљ рЃарЃЮрЃњрЃЮрЃарЃф writer рЃЎрЃЮрЃЊрЃерЃў, рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃерЃћрЃБрЃФрЃџрЃўрЃљ рЃЊрЃљрЃљрЃЏрЃљрЃбрЃЮрЃА рЃЊрЃљ рЃЕрЃљрЃгрЃћрЃарЃЮрЃА рЃљрЃ«рЃљрЃџрЃў рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃћрЃЉрЃў рЃерЃарЃћрЃерЃў.


## ­ЪЪб рЃљрЃ«рЃљрЃџрЃў рЃгрЃћрЃарЃбрЃўрЃџрЃЮрЃЋрЃљрЃюрЃў рЃЋрЃћрЃЦрЃбрЃЮрЃарЃБрЃџрЃў рЃерЃарЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ (ESRI Shapefile)

```python
fn = r'C:\Users\Public\Documents\GIS\shapefile\saxli.shp'

layerfield = QgsFields()
layerfield.append(QgsField('ID', QVariant.Int))
layerfield.append(QgsField('saxeli', QVariant.String))
layerfield.append(QgsField('asaki', QVariant.Double))

writer = QgsVectorFileWriter(fn, 'UTF-8', layerfield, QgsWkbTypes.Point, 
               QgsCoordinateReferenceSystem('EPSG:32638'), 'ESRI Shapefile')

fc = QgsFeature()
fc.setGeometry(QgsGeometry.fromPointXY(QgsPointXY(357965.61, 4683353.56)))
fc.setAttributes([1, 'giorgi', 25])
writer.addFeature(fc)

del(writer)
layer = iface.addVectorLayer(fn, '', 'ogr')
```

­ЪЊї рЃћрЃА рЃЎрЃЮрЃЊрЃў рЃЦрЃЏрЃюрЃўрЃА рЃгрЃћрЃарЃбрЃўрЃџрЃЮрЃЋрЃљрЃю рЃерЃарЃћрЃА рЃЊрЃљ рЃћрЃарЃЌ рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃА рЃљрЃЏрЃљрЃбрЃћрЃЉрЃА.

---

## ­ЪЪб рЃгрЃћрЃарЃбрЃўрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃарЃўрЃА рЃ«рЃљрЃќрЃерЃў рЃњрЃљрЃЊрЃљрЃДрЃЋрЃљрЃюрЃљ (Point to Line Conversion)

```python
fn = r'C:\Users\Public\Documents\GK\PyQGIS\shp\lake.shp'
output = r'C:\Users\Public\Documents\GK\PyQGIS\shp\lake_line.shp'

processing.run("native:pointstopath", {
    'INPUT': fn,
    'CLOSE_PATH': True,
    'ORDER_EXPRESSION': '"ID"',
    'NATURAL_SORT': False,
    'GROUP_EXPRESSION': '',
    'OUTPUT': output
})

layer = iface.addVectorLayer(output, '', 'ogr')
```

­ЪЊї рЃљрЃЦрЃћрЃЊрЃљрЃю рЃЋрЃўрЃдрЃћрЃЉрЃЌ рЃ«рЃљрЃќрЃА рЃгрЃћрЃарЃбрЃўрЃџрЃћрЃЉрЃўрЃА рЃЌрЃљрЃюрЃЏрЃўрЃЏрЃЊрЃћрЃЋрЃарЃЮрЃЉрЃўрЃЌ.

---

## ­Ъћё рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃЊрЃўрЃљрЃњрЃарЃљрЃЏрЃљ (рЃАрЃбрЃБрЃЊрЃћрЃюрЃбрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА)
```
POINTS (рЃгрЃћрЃарЃбрЃўрЃџрЃћрЃЉрЃў)
   РєЊ
Point to Line Conversion
   РєЊ
LINE (рЃ«рЃљрЃќрЃў)
   РєЊ
Lines to Polygon Conversion
   РєЊ
POLYGON (рЃърЃЮрЃџрЃўрЃњрЃЮрЃюрЃў)
   РєЊ
Polygon to Lines Conversion
   РєЊ
LINES
   РєЊ
Convert Lines to Points
   РєЊ
POINTS
```

---

## ­ЪЪб рЃ«рЃљрЃќрЃЮрЃЋрЃљрЃюрЃў рЃерЃарЃўрЃА рЃърЃЮрЃџрЃўрЃњрЃЮрЃюрЃерЃў рЃњрЃљрЃЊрЃљрЃДрЃЋрЃљрЃюрЃљ (Lines to Polygon)

```python
fn = r'C:\Users\Public\Documents\GK\PyQGIS\shp\lake_line.shp'
output = r'C:\Users\Public\Documents\GK\PyQGIS\shp\lake_poly.shp'

processing.run("qgis:linestopolygons", {'INPUT':fn, 'OUTPUT':output})
layer = iface.addVectorLayer(output, '', 'ogr')
```

­ЪЊї рЃ«рЃљрЃќрЃћрЃЉрЃў рЃћрЃарЃЌрЃЊрЃћрЃЉрЃљ рЃЊрЃљ рЃърЃЮрЃџрЃўрЃњрЃЮрЃюрЃў рЃДрЃљрЃџрЃўрЃЉрЃЊрЃћрЃЉрЃљ.

---

## РЮЌ№ИЈ рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃћрЃЉрЃў рЃАрЃбрЃБрЃЊрЃћрЃюрЃбрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА

- **QVariant.Int** Рєњ рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃџрЃљрЃЊ рЃЊрЃўрЃЊрЃў I  
- **TEMPORARY_OUTPUT** Рєњ рЃЊрЃарЃЮрЃћрЃЉрЃўрЃЌрЃў рЃерЃћрЃЊрЃћрЃњрЃў, рЃЌрЃБ рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃцрЃљрЃўрЃџрЃљрЃЊ рЃерЃћрЃЋрЃўрЃюрЃљрЃ«рЃЮрЃЌ Рєњ рЃЕрЃљрЃЋрЃљрЃюрЃљрЃфрЃЋрЃџрЃЮрЃЌ `output`
- **рЃњрЃћрЃќрЃћрЃЉрЃў (paths)** Рєњ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћ `r"path"` рЃљрЃю рЃЮрЃарЃЏрЃљрЃњрЃў `\`

---

## ­Ъћј рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃў рЃЊрЃљ рЃЏрЃљрЃЌрЃў рЃљрЃ«рЃАрЃюрЃљ

- **EOL while scanning string** Рєњ рЃцрЃљрЃўрЃџрЃўрЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃА рЃљрЃЎрЃџрЃўрЃљ рЃЉрЃарЃГрЃДрЃљрЃџрЃў `"`.  
- **AttributeError: type object 'QVariant' has no attribute 'int'** Рєњ рЃърЃљрЃбрЃљрЃарЃљ `i` рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљрЃљ, рЃАрЃгрЃЮрЃарЃўрЃљ `Int`.

---

# ­ЪЊџ рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

рЃљрЃЏ рЃЌрЃћрЃЏрЃљрЃерЃў рЃњрЃљрЃЋрЃўрЃљрЃарЃћрЃЌ:  
- рЃљрЃ«рЃљрЃџрЃў рЃерЃарЃћрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ PyQGIS-рЃўрЃЌ  
- рЃгрЃћрЃарЃбрЃўрЃџрЃў Рєњ рЃ«рЃљрЃќрЃў Рєњ рЃърЃЮрЃџрЃўрЃњрЃЮрЃюрЃў рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃћрЃЉрЃў  
- рЃЊрЃарЃЮрЃћрЃЉрЃўрЃЌрЃў рЃЊрЃљ рЃЏрЃБрЃЊрЃЏрЃўрЃЋрЃў рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃўрЃА рЃерЃћрЃюрЃљрЃ«рЃЋрЃљ  
- рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃўрЃА рЃљрЃдрЃЏрЃЮрЃЕрЃћрЃюрЃљ рЃЊрЃљ рЃњрЃљрЃАрЃгрЃЮрЃарЃћрЃЉрЃљ  

